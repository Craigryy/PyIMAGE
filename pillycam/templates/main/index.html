{% extends "account/base.html" %}
{% load static %}

{% block content %}
    <link rel="stylesheet" type="text/css" href="{% static 'css/dashboard.css' %}">

    <div class="column">
        {% include "main/navbar.html" %}
    </div>

    <div class="dashboard-container">
        <br/>
        <br/>

        <div class="container">
            <br/>
            <br/>
            <h2>Your Photo Board</h2>
            {% if images %}
                <div class="photo-board">
                    {% for image in images %}
                        {% if image.get_url %}
                            <div class="photo">
                                <img src="{{ image.thumbnail.url }}" alt="Thumbnail" class="select-image" data-image-path="{{ image.image.url }}">
                                <p>Uploaded on: {{ image.created_on }}</p>
                                <p>{{ image.title }}</p>
                                {% if image.edited %}
                                    <i class="fa fa-star-half-o retouch"></i>
                                {% endif %}
                                <a href="#myModal" data-toggle="modal">
                                    <i class="fa fa-trash pull-right delete" id="{{image.id}}"></i>
                                </a>
                            </div>
                        {% endif %}
                    {% endfor %}
                </div>
            {% else %}
                <p>No photos uploaded yet.</p>
            {% endif %}
        </div>

    
        <h1>Image Effects</h1> 
    
        <form id="applyEffectForm" method="post" enctype="multipart/form-data">
            {% csrf_token %}
            {{ form.as_p }}
            <label for="id_effect">Select Effect:</label>
            <select name="effect" id="id_effect" class="form-control">
                <option value="brightness">Brightness</option>
                <option value="grayscale">Grayscale</option>
                <option value="blackwhite">Black and White</option>
                <!-- Add more options as needed -->
            </select>
            <br>
            <button type="submit">Apply Effect</button>
        </form>
    
        
        <!-- Display the processed image -->
        <img id="processedImage" src="#" alt="Processed Image">
        
        
        <!-- Preview Button (Shows Modal) -->
        <button type="button" id="previewButton" data-toggle="modal" data-target="#previewModal">Preview</button>

        <!-- Upload Button -->
        <button type="button" id="uploadButton" >Upload</button>

        <!-- Preview Modal -->
        <div class="modal fade" id="previewModal" tabindex="-1" role="dialog" aria-labelledby="exampleModalLabel" aria-hidden="true">
            <div class="modal-dialog" role="document">
                <div class="modal-content">
                    <div class="modal-body">
                        <img src="" id="previewImage" class="img-fluid">
                    </div>
                </div>
            </div>
        </div>

        <!-- Placeholder for delete button (adjust according to your structure) -->
        <button class="delete-button" data-image-id="1">Delete</button>
        <button class="share-button">Share</button>

        <button type="button" class="btn btn-primary" id="openDisplayModal">Open Display Modal</button>
    </div>
{% endblock %}
